# 02_janken02
「02 じゃんけん02」の課題用リポジトリ

# STREET JANKEN Ⅱ (PowerUpVer.)
- 初期バージョンはこちら
  - https://github.com/d-shukuya/01_janken01

## DEMO

- なし

## 紹介と使い方

- 往年の STREET FIGHTER Ⅱ を格ゲーではなくジャンケンゲームで再現。
- ３人勝ち抜いて全クリを目指すゲーム！
- 一式ローカルに配置し、index.html をブラウザで開けばプレイ可能（要ネット接続）

## PowerUpVer. で工夫した点

  - battle.js ファイルが煩雑だったので、リファクタリングをしてみた
    - domクラス(DOM操作を行うクラス)、logicクラス(じゃんけんの計算ロジックを持つクラス)、statusクラス(ゲームの現在の状態を管理するクラス)を作り、ファイルを分割した。
    - それぞれのクラスの責務に応じてコードを割り振った。
  - デモモードのボタンを付けた
    - デモモードを「ON」にすると、相手は「パー」しか出さなくなる。
  - バトルステージごとに背景画像をきりかえるのと、それぞれのアクションに合わせた画像切り替えを工夫した。
  - それぞれの画面におけるBGMと、それぞれのアクションに合わせた効果音を工夫した。
    - リファクタリングしていたおかげで、画面切り替えやBGM・効果音付与が格段に実装しやすかった。

## PowerUpVer. で苦戦した点

  - js ファイルを分割した場合の読み込み方法に苦戦した。HTMLファイルにすべてのjsファイルのリンクを書くのはいやだったので、jsファイル内で他ファイルをimportするようにしたかったのだが、クラスのインスタンス生成がうまくいかず断念した。結局はHTMLファイルにすべてのjsファイルのリンクを書いた。
    - ロードイベントやクリックイベント内ではimport出来るが、そこで作ったインスタンスが他のイベントで使えず、値が保てなかった。
  - 「Aを表示後、2秒待った後にBを表示する」といった非同期処理を同期的に、かつ、インターバルを設けるようにするコードをすっきり書きたかったがなかなか難しかった。Sleepメソッドを作成し、 async await で呼ぶ形にしてみた。

## PowerUpVer. で参考にした web サイトなど

  - 都度都度ググった